<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="ie=edge" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" />
<link rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.1.0/github-markdown-light.css" />
  <script src="https://eqcn.ajz.miesnfu.com/wp-content/plugins/wp-3d-pony/live2dw/lib/L2Dwidget.min.js"></script>
  <script>
    L2Dwidget.init({
      "model": { "jsonPath":"https://unpkg.com/live2d-widget-model-hijiki@1.0.5/assets/hijiki.model.json", "scale": 1, "hHeadPos":0.5, "vHeadPos":0.618 },
      "display": { "position": "right", "width": 400, "height": 400, "hOffset": 0, "vOffset": 0 },
      "mobile": { "show": true, "scale": 0.5 },
      "react": { "opacityDefault": 0.7, "opacityOnHover": 0.2 }
    });
  </script>

<style>
  body {
    background-color: #f5f5d5;
  }
  .markdown-body 
  {
    background-color: #f5f5d5;
  }

  .main {
    width: 85%;
    margin: 0 auto;
    max-width: 1260px;

  }

  @media screen and (max-width: 600px) {
    .main {
      width: 85%;
    }
  }

  .navigation {
    margin-bottom: 50px;
    border-bottom: 1px solid #d3d3d3;
    line-height: 2.5;
    margin-top: 25px;
  }

  .navigation a {
    color: #567;
    font-family: 'Lucida Console', 'Liberation Mono', Menlo, Monaco, Roboto, apple-system,
      'Helvetica Neue', Arial, 'Helvetica Neue', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei',
      'WenQuanYi Micro Hei', sans-serif;
  }

  #homepage,
  #homepage body {
    margin: 0;
    padding: 0;
    height: 100%;
  }

  .homepage-main {
    margin: 0 auto;
    position: relative;
    top: 30%;
    font-weight: normal;
    margin: 0 0 10px;
  }

  .homepage-title-area {
    transition: opacity 1s;
    margin-bottom: 60px;
  }

  .homepage-title,
  .homepage-subtitle {
    text-align: center;
    font-weight: normal;
    opacity: 0.7;
  }

  .homepage-title {
    font-size: 30px;
    margin: 0 0 10px;
    font-family: apple-system, 'Helvetica Neue', Arial, 'Helvetica Neue', 'PingFang SC',
      'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;
  }

  .homepage-subtitle {
    font-size: 12px;
    font-family: 'Lucida Console', 'Liberation Mono', Menlo, Monaco, Roboto, apple-system,
      'Helvetica Neue', Arial, 'Helvetica Neue', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei',
      'WenQuanYi Micro Hei', sans-serif;
  }

  .homepage-navigation ul {
    padding: 0;
    text-align: center;
  }

  .homepage-navigation li {
    list-style: none;
    display: inline-block;
    margin: 30px 0 0 30px;
  }

  .homepage-navigation li:first-child {
    margin-left: 0;
  }

  .homepage-navigation a {
    color: #dd4242;
    text-decoration: none;
    font-family: 'Lucida Console', 'Liberation Mono', Menlo, Monaco, Roboto, apple-system,
      'Helvetica Neue', Arial, 'Helvetica Neue', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei',
      'WenQuanYi Micro Hei', sans-serif;
  }

  .homepage-navigation a:hover {
    text-decoration: underline;
  }

  .about p {
    margin-bottom: 30px;
    line-height: 1.5;
  }

  .about li {
    font-family: 'Lucida Console', 'Liberation Mono', Menlo, Monaco, Roboto, apple-system,
      'Helvetica Neue', Arial, 'Helvetica Neue', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei',
      'WenQuanYi Micro Hei', sans-serif;
    margin-top: 15px;
  }

  .about li a {
    color: #567;
    text-decoration: underline solid;
  }

  .article-title {
    font-weight: normal;
    font-family: apple-system, 'Helvetica Neue', Arial, 'Helvetica Neue', 'PingFang SC',
      'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;
  }

  .article-info {
    color: #777777;
    margin-bottom: 50px;
    font-family: 'Lucida Console', 'Liberation Mono', Menlo, Monaco, Roboto, apple-system,
      'Helvetica Neue', Arial, 'Helvetica Neue', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei',
      'WenQuanYi Micro Hei', sans-serif;
  }

  .article-info span {
    margin: 0 30px 0px 0;
  }

  .article-info .keyword {
    margin: 5px 5px 0 0;
    display: inline-block;
  }

  @font-face {
    font-family: octicons-link;
    src: url("https://cdnjs.cloudflare.com/ajax/libs/octicons/4.4.0/font/octicons.woff") format('woff');
  }

  .blogs-list-block {
    line-height: 1.5em;
  }

  .blogs-list-block ol {
    margin-bottom: 60px;
  }

  @media screen and (max-width: 600px) {
    .blogs-list-block ol {
      padding-left: 1em;
    }
  }

  .blogs-list-block li {
    display: flex;
    list-style-type: none;
    margin-bottom: 20px;
  }

  .annual-block {
    margin-bottom: 50px;
  }

  .annual-block-headline {
    display: block;
    font-size: 20px;
    margin-bottom: 30px;
    font-family: 'Lucida Console', 'Liberation Mono', Menlo, Monaco, Roboto, apple-system,
      'Helvetica Neue', Arial, 'Helvetica Neue', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei',
      'WenQuanYi Micro Hei', sans-serif;
  }

  .annual-block-title {
    font-family: apple-system, 'Helvetica Neue', Arial, 'Helvetica Neue', 'PingFang SC',
      'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;
    color: #567;
    text-decoration: none;
  }

  .annual-block-title.is-dir {
    text-decoration: dotted underline;
  }

  .annual-block-date {
    font-family: 'Lucida Console', 'Liberation Mono', Menlo, Monaco, Roboto, apple-system,
      'Helvetica Neue', Arial, 'Helvetica Neue', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei',
      'WenQuanYi Micro Hei', sans-serif;
    margin-right: 30px;
    color: #999999;
  }

  .rss-link {
    display: block;
    width: 3em;
    padding-left: 100%;
    margin: 50px 0 100px -3em;
    color: #567;
  }

  .error {
    position: absolute;
    top: 40%;
    left: 50%;
    transform: translateX(-50%);
    text-align: center;
  }

  .error p {
    font-size: 20px;
  }

  .error a {
    font-family: 'Lucida Console', 'Liberation Mono', Menlo, Monaco, Roboto, apple-system,
      'Helvetica Neue', Arial, 'Helvetica Neue', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei',
      'WenQuanYi Micro Hei', sans-serif;
    text-decoration: underline dotted;
    color: #777777;
  }
</style>


    <title>索引 - 首页</title>
  <link rel="stylesheet" href="/_markdown_plugin_assets/highlight.js/atom-one-light.css" /></head>
  <body>
    <div class="main">
      <nav class="navigation">
        <a href="/">首页</a>
      </nav>
      <article>
        <header>
          <h1 class="article-title">索引</h1>
          <div class="article-info">
            <div>
              <span
                >Created At：<time datetime="1673338899930"
                  >2023-01-10 16:21</time
                ></span
              >
              <span
                >Updated At：<time datetime="1673342034768"
                  >2023-01-10 17:13</time
                ></span
              >
            </div>
            
            <div>
              Keywords: 
              <span class="keyword">sqlserver</span>
              
            </div>
            
          </div>
        </header>
        <div class="article-content markdown-body"><h1 id="索引">索引</h1>
<h2 id="简介">简介</h2>
<p>分为聚集索引和非聚集索引，存储于物理中，用于提高数据的检索速度</p>
<h2 id="查看索引">查看索引</h2>
<p>简单版</p>
<div><pre class="hljs"><code><span class="hljs-built_in">execute</span> sp_helpindex <span class="hljs-symbol">@objname</span>=<span class="hljs-string">'UserActionLog'</span></code></pre></div>
<p>升级版</p>
<div><pre class="hljs"><code>SELECT
    索引名称= <span class="hljs-selector-tag">a</span><span class="hljs-selector-class">.name</span>
    ,表名= c<span class="hljs-selector-class">.name</span>
    ,索引字段名= d<span class="hljs-selector-class">.name</span>
    ,索引字段位置= d<span class="hljs-selector-class">.colid</span> 
FROM
    sysindexes <span class="hljs-selector-tag">a</span>
    JOIN sysindexkeys <span class="hljs-selector-tag">b</span> ON <span class="hljs-selector-tag">a</span>.id= <span class="hljs-selector-tag">b</span><span class="hljs-selector-class">.id</span> 
    AND <span class="hljs-selector-tag">a</span>.indid= <span class="hljs-selector-tag">b</span><span class="hljs-selector-class">.indid</span>
    JOIN sysobjects c ON <span class="hljs-selector-tag">b</span>.id= c<span class="hljs-selector-class">.id</span>
    JOIN syscolumns d ON <span class="hljs-selector-tag">b</span>.id= d<span class="hljs-selector-class">.id</span> 
    AND <span class="hljs-selector-tag">b</span>.colid= d<span class="hljs-selector-class">.colid</span> 
WHERE
    <span class="hljs-selector-tag">a</span><span class="hljs-selector-class">.indid</span> NOT IN ( <span class="hljs-number">0</span>, <span class="hljs-number">255</span> ) -- and c.xtype=<span class="hljs-string">'U'</span> and c.status\&gt;<span class="hljs-number">0</span>
    
    AND c.name= <span class="hljs-string">'UserActionLog'</span> --指定表
    
ORDER BY
    c<span class="hljs-selector-class">.name</span>,
    <span class="hljs-selector-tag">a</span><span class="hljs-selector-class">.name</span>,
    d.name</code></pre></div>
<h2 id="创建">创建</h2>
<h3 id="1聚集索引">1.聚集索引</h3>
<div><pre class="hljs"><code><span class="hljs-keyword">create</span> clustered  <span class="hljs-keyword">index</span>  index_name <span class="hljs-keyword">on</span> <span class="hljs-built_in">table_name</span>  ;</code></pre></div>
<h3 id="2index">2.Index</h3>
<div><pre class="hljs"><code><span class="hljs-keyword">create</span>  <span class="hljs-keyword">index</span>  index_name <span class="hljs-keyword">on</span> <span class="hljs-built_in">table_name</span>  (<span class="hljs-built_in">column_name</span>);</code></pre></div>
<h3 id="3unique">3.unique</h3>
<div><pre class="hljs"><code><span class="hljs-keyword">create</span> <span class="hljs-keyword">unique</span>  <span class="hljs-keyword">index</span>  index_name <span class="hljs-keyword">on</span> <span class="hljs-built_in">table_name</span> (<span class="hljs-built_in">column_name</span>) ;</code></pre></div>
<h3 id="4指定模式offline">4.指定模式（offline）</h3>
<div><pre class="hljs"><code><span class="hljs-keyword">create</span> clustered  <span class="hljs-keyword">index</span>  index_name <span class="hljs-keyword">on</span> <span class="hljs-built_in">table_name</span> (<span class="hljs-built_in">column_name</span>)
<span class="hljs-keyword">WITH</span> (ONLINE = <span class="hljs-keyword">ON</span>) ;</code></pre></div>
</div>
      </article>
    </div>
  </body>
</html>
